---
import { useEffect, useState } from "react";
---

<div id="timer" class="font-mono text-blue-600">
  {Astro.state?.time ?? ""}
</div>

<script>
  const s = new Date("December 8, 2025 22:00:00").getTime();
  const t = document.getElementById("timer");

  function update() {
    const n = new Date().getTime() - s;
    const d = Math.floor(n / 86400000);
    const h = Math.floor(n / 3600000 % 24);
    const m = Math.floor(n / 60000 % 60);
    const s2 = Math.floor(n / 1000 % 60);
    t.textContent = `${d}d ${h}h ${m}m ${s2}s`;
  }

  setInterval(update, 1000);
  update();
</script>
